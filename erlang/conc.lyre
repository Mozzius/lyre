// Exploratory code similar to conc.erl

func printer(chan) {
  receive(chan, [
    func(data : int) : string {
      return "stopping"
    }
    func(data : string) : nothing {
      print("Received: " ++ data)
    }
  ])
}

func main() {
  let chan = channel(string -> _ | int -> string)
  spawn(printer, [chan])
}